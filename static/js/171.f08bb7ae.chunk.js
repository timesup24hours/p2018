(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{1115:function(e,t,n){"use strict";n.r(t);var o=n(19),a=n(20),l=n(22),r=n(21),c=n(23),s=n(1),i=n.n(s),u=n(44),d=n(4),h=(n(301),n(45)),m=n(490),p=n.n(m),f=function(e){var t=e.scrolled;return i.a.createElement("div",{className:p.a.scollLine,style:{width:"".concat(t,"%")}})},g=n(38),N=n(35),v=n(491),b=n.n(v),E=n(514),w=n(80),y=n(213),_=n(512),D=n.n(_),S=(n(513),y.a,function(e){var t=e.note,n=Object(s.useState)(!1),o=Object(g.a)(n,2),a=o[0],l=o[1],r=Object(s.useState)(!1),c=Object(g.a)(r,2),u=c[0],d=(c[1],Object(s.useRef)(null));return u?null:i.a.createElement("div",{className:"Note Note-root ".concat(D.a.container," ").concat(a?"isDelete":""," ").concat(a?"goAway":""),ref:d},i.a.createElement(b.a,{index:1,enableMouseEvents:!0,className:"Note ".concat(D.a.container," ").concat(a?"isDelete":""," ").concat(a?"goAway":""),style:{width:"100%"},onChangeIndex:function(e,t,n){var o=d.current;2===e?o?E.a.to(o,.5,{height:"0",minHeight:"0",opacity:0,marginBottom:"0px",display:"none",ease:w.d.easeIn}):l(!0):0===e&&(o?E.a.to(o,.5,{height:"0",minHeight:"0",opacity:0,marginBottom:"0px",display:"none",ease:w.d.easeInOut}):l(!0))}},i.a.createElement("div",{className:"read"},"Read"),i.a.createElement("div",{className:"wrapper ".concat(D.a.wrapper," ").concat(D.a.row," ")},i.a.createElement(N.a,{to:{hash:t.id,pathname:"/my_notes/".concat(t.title)},style:{height:"".concat(t.subTitle?"auto":"100%")}},i.a.createElement("h1",{className:"".concat(t.subTitle?"":"flex-center")},t.title)),t.subTitle&&i.a.createElement("div",{className:D.a.subTitle},t.subTitle)),i.a.createElement("div",{className:"delete"},"Delete")))}),j=i.a.forwardRef(function(e,t){var n=e.notes,o=e.hasMoreNotesToLoad,a=e.loading,l=e.fetchLoading,r=e.scrolled,c=e.handleScroll;return a?i.a.createElement("div",{className:"center"},i.a.createElement(h.a,null)):i.a.createElement("div",{className:"MyNotesContainer-container",onScroll:c,ref:t},r?i.a.createElement(f,{scrolled:r}):null,n.length?n.map(function(e,t){return i.a.createElement(S,{key:t,note:e,index:t})}):null,l?i.a.createElement("div",{className:"MyNotesContainer-loading"},i.a.createElement(h.a,null)):null,o?null:i.a.createElement("div",{className:"MyNotesContainer-lastNote"},"Last Note"))}),O=function(e,t){return t.scrollTop+t.clientHeight>=t.scrollHeight-e},T=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c)))).state={scrolled:0,scrollHeight:0},n.scrollerDiv=i.a.createRef(),n.getNotes=function(e){n.props.notesFetchRequested(e)},n.setScrolled=function(e){n.setState({scrolled:n.scrollerDiv.current.scrollTop/(n.scrollerDiv.current.scrollHeight-window.innerHeight)*100}),n.setState({scrollHeight:n.scrollerDiv.current.scrollHeight})},n.handleScroll=function(e){n.setScrolled(),n.scrollerDiv.current&&O(100,n.scrollerDiv.current)&&n.props.hasMoreNotesToLoad&&!n.props.fetchLoading&&n.getNotes({start:n.props.cursor,loadAmount:n.props.loadAmount})},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.notes&&0===this.props.notes.length&&this.mounted&&this.getNotes({start:0,loadAmount:20})}},{key:"componentDidUpdate",value:function(e,t){this.scrollerDiv.current&&this.scrollerDiv.current.scrollHeight!==t.scrollHeight&&this.setScrolled()}},{key:"render",value:function(){var e=this.state.scrolled;return i.a.createElement(i.a.Fragment,null,i.a.createElement(j,Object.assign({},this.props,{ref:this.scrollerDiv,scrolled:e,handleScroll:this.handleScroll})),i.a.createElement("div",{className:"MyNotesContainer-desc"},"Swipe \ud83d\udc48 or \ud83d\udc49"))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.getNotes=null,this.props.notesFetchCancelled()}}]),t}(s.Component),L=Object(u.b)(function(e){return{notes:e.notes.notes,cursor:e.notes.cursor,loading:e.notes.loading,hasMoreNotesToLoad:e.notes.hasMoreNotesToLoad,fetchLoading:e.notes.fetchLoading,message:e.notes.message,loadAmount:e.notes.loadAmount}},function(e){return{notesFetchRequested:function(t){return e(d.a.notesFetchRequested(t))},notesFetchCancelled:function(){return e(d.a.notesFetchCancelled())}}})(T);t.default=L},301:function(e,t,n){},490:function(e,t,n){e.exports={scollLine:"ScrollIndicator_scollLine__3ZEpI"}},512:function(e,t,n){e.exports={container:"Note_container__1mut8",wrapper:"Note_wrapper__e2RXE",subTitle:"Note_subTitle__9jJa3",row:"Note_row__2VfX1"}},513:function(e,t,n){}}]);
//# sourceMappingURL=171.f08bb7ae.chunk.js.map