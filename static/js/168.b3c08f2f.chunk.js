(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{1096:function(e,t,n){"use strict";n.r(t);var o=n(19),a=n(20),l=n(22),c=n(21),r=n(23),s=n(1),i=n.n(s),u=n(44),d=n(4),h=(n(296),n(45)),m=n(482),p=n.n(m),f=function(e){var t=e.scrolled;return i.a.createElement("div",{className:p.a.scollLine,style:{width:"".concat(t,"%")}})},g=n(38),v=n(35),N=n(483),b=n.n(N),E=n(947),w=n(504),y=n.n(w),T=(n(505),function(e){var t=e.note,n=Object(s.useState)(!1),o=Object(g.a)(n,2),a=o[0],l=o[1],c=Object(s.useState)(!1),r=Object(g.a)(c,2),u=r[0],d=(r[1],Object(s.useRef)(null)),h=void 0;return u?null:i.a.createElement("div",{className:"Note Note-root ".concat(y.a.container," ").concat(a?"isDelete":""," ").concat(a?"goAway":""),ref:d},i.a.createElement(b.a,{index:1,enableMouseEvents:!0,className:"Note ".concat(y.a.container," ").concat(a?"isDelete":""," ").concat(a?"goAway":""),style:{width:"100%"},onChangeIndex:function(e,t,n){var o=d.current;2===e?o?(E.b.to(o,.5,{height:"0",minHeight:"0",opacity:0,marginBottom:"0px",display:"none",ease:E.a.easeInOut}),h=setTimeout(function(){l(!0),clearTimeout(h)},100)):l(!0):0===e&&(o?(E.b.to(o,.5,{height:"0",minHeight:"0",opacity:0,marginBottom:"0px",display:"none",ease:E.a.easeInOut}),h=setTimeout(function(){l(!0),clearTimeout(h)},100)):l(!0))}},i.a.createElement("div",{className:"read"},"Read"),i.a.createElement("div",{className:"wrapper ".concat(y.a.wrapper," ").concat(y.a.row," ")},i.a.createElement(v.a,{to:{hash:t.id,pathname:"/my_notes/".concat(t.title)},style:{height:"".concat(t.subTitle?"auto":"100%")}},i.a.createElement("h1",{className:"".concat(t.subTitle?"":"flex-center")},t.title)),t.subTitle&&i.a.createElement("div",{className:y.a.subTitle},t.subTitle)),i.a.createElement("div",{className:"delete"},"Delete")))}),_=i.a.forwardRef(function(e,t){var n=e.notes,o=e.hasMoreNotesToLoad,a=e.loading,l=e.fetchLoading,c=e.scrolled,r=e.handleScroll;return a?i.a.createElement("div",{className:"center"},i.a.createElement(h.a,null)):i.a.createElement("div",{className:"MyNotesContainer-container",onScroll:r,ref:t},c?i.a.createElement(f,{scrolled:c}):null,n.length?n.map(function(e,t){return i.a.createElement(T,{key:t,note:e,index:t})}):null,l?i.a.createElement("div",{className:"MyNotesContainer-loading"},i.a.createElement(h.a,null)):null,o?null:i.a.createElement("div",{className:"MyNotesContainer-lastNote"},"Last Note"))}),D=function(e,t){return t.scrollTop+t.clientHeight>=t.scrollHeight-e},O=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={scrolled:0,scrollHeight:0},n.scrollerDiv=i.a.createRef(),n.getNotes=function(e){n.props.notesFetchRequested(e)},n.setScrolled=function(e){n.setState({scrolled:n.scrollerDiv.current.scrollTop/(n.scrollerDiv.current.scrollHeight-window.innerHeight)*100}),n.setState({scrollHeight:n.scrollerDiv.current.scrollHeight})},n.handleScroll=function(e){n.setScrolled(),n.scrollerDiv.current&&D(100,n.scrollerDiv.current)&&n.props.hasMoreNotesToLoad&&!n.props.fetchLoading&&n.getNotes({start:n.props.cursor,loadAmount:n.props.loadAmount})},n}return Object(r.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.notes&&0===this.props.notes.length&&this.mounted&&this.getNotes({start:0,loadAmount:20})}},{key:"componentDidUpdate",value:function(e,t){this.scrollerDiv.current&&this.scrollerDiv.current.scrollHeight!==t.scrollHeight&&this.setScrolled()}},{key:"render",value:function(){var e=this.state.scrolled;return i.a.createElement(i.a.Fragment,null,i.a.createElement(_,Object.assign({},this.props,{ref:this.scrollerDiv,scrolled:e,handleScroll:this.handleScroll})),i.a.createElement("div",{className:"MyNotesContainer-desc"},"Swipe \ud83d\udc48 or \ud83d\udc49"))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.getNotes=null,this.props.notesFetchCancelled()}}]),t}(s.Component),S=Object(u.b)(function(e){return{notes:e.notes.notes,cursor:e.notes.cursor,loading:e.notes.loading,hasMoreNotesToLoad:e.notes.hasMoreNotesToLoad,fetchLoading:e.notes.fetchLoading,message:e.notes.message,loadAmount:e.notes.loadAmount}},function(e){return{notesFetchRequested:function(t){return e(d.a.notesFetchRequested(t))},notesFetchCancelled:function(){return e(d.a.notesFetchCancelled())}}})(O);t.default=S},296:function(e,t,n){},482:function(e,t,n){e.exports={scollLine:"ScrollIndicator_scollLine__3ZEpI"}},504:function(e,t,n){e.exports={container:"Note_container__1mut8",wrapper:"Note_wrapper__e2RXE",subTitle:"Note_subTitle__9jJa3",row:"Note_row__2VfX1"}},505:function(e,t,n){}}]);
//# sourceMappingURL=168.b3c08f2f.chunk.js.map