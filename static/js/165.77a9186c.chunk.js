(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{1034:function(e,t,n){"use strict";n.r(t);var o=n(19),l=n(20),r=n(22),a=n(21),s=n(23),c=n(1),i=n.n(c),u=n(44),d=n(4),h=n(467),p=n.n(h),m=n(45),f=n(468),g=n.n(f),N=function(e){var t=e.scrolled;return i.a.createElement("div",{className:g.a.scollLine,style:{width:"".concat(t,"%")}})},v=n(35),_=n(469),w=n.n(_),E=function(e){var t=e.note;return i.a.createElement(v.a,{to:{hash:t.id,pathname:"/my_notes/".concat(t.title)},className:w.a.container},i.a.createElement("div",{className:"".concat(w.a.wrapper," ").concat(w.a.row," ").concat(t.subTitle?"":"flex-center")},i.a.createElement("h1",null,t.title),i.a.createElement("div",{className:w.a.subTitle},t.subTitle)))},b=i.a.forwardRef(function(e,t){var n=e.notes,o=e.hasMoreNotesToLoad,l=e.loading,r=e.fetchLoading,a=e.scrolled,s=e.handleScroll;return l?i.a.createElement("div",{className:"center"},i.a.createElement(m.a,null)):i.a.createElement("div",{className:p.a.container,onScroll:s,ref:t},a?i.a.createElement(N,{scrolled:a}):null,n.length?n.map(function(e,t){return i.a.createElement(E,{key:t,note:e})}):null,r?i.a.createElement("div",{className:p.a.loading},i.a.createElement(m.a,null)):null,o?null:i.a.createElement("div",{className:p.a.lastNote},"Last Note"))}),y=function(e,t){return t.scrollTop+t.clientHeight>=t.scrollHeight-e},L=function(e){function t(){var e,n;Object(o.a)(this,t);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(n=Object(r.a)(this,(e=Object(a.a)(t)).call.apply(e,[this].concat(s)))).state={scrolled:0,scrollHeight:0},n.scrollerDiv=i.a.createRef(),n.getNotes=function(e){n.props.notesFetchRequested(e)},n.setScrolled=function(e){n.setState({scrolled:n.scrollerDiv.current.scrollTop/(n.scrollerDiv.current.scrollHeight-window.innerHeight)*100}),n.setState({scrollHeight:n.scrollerDiv.current.scrollHeight})},n.handleScroll=function(e){n.setScrolled(),n.scrollerDiv.current&&y(100,n.scrollerDiv.current)&&n.props.hasMoreNotesToLoad&&!n.props.fetchLoading&&n.getNotes({start:n.props.cursor,loadAmount:n.props.loadAmount})},n}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.notes&&0===this.props.notes.length&&this.mounted&&this.getNotes({start:0,loadAmount:20})}},{key:"componentDidUpdate",value:function(e,t){this.scrollerDiv.current&&this.scrollerDiv.current.scrollHeight!==t.scrollHeight&&this.setScrolled()}},{key:"render",value:function(){var e=this.state.scrolled;return i.a.createElement(b,Object.assign({},this.props,{ref:this.scrollerDiv,scrolled:e,handleScroll:this.handleScroll}))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.getNotes=null,this.props.notesFetchCancelled()}}]),t}(c.Component),D=Object(u.b)(function(e){return{notes:e.notes.notes,cursor:e.notes.cursor,loading:e.notes.loading,hasMoreNotesToLoad:e.notes.hasMoreNotesToLoad,fetchLoading:e.notes.fetchLoading,message:e.notes.message,loadAmount:e.notes.loadAmount}},function(e){return{notesFetchRequested:function(t){return e(d.a.notesFetchRequested(t))},notesFetchCancelled:function(){return e(d.a.notesFetchCancelled())}}})(L);t.default=D},467:function(e,t,n){e.exports={container:"MyNotesPage_container__Nt3xt",loading:"MyNotesPage_loading__2Rsl7",lastNote:"MyNotesPage_lastNote__1912Z"}},468:function(e,t,n){e.exports={scollLine:"ScrollIndicator_scollLine__3ZEpI"}},469:function(e,t,n){e.exports={container:"Note_container__1mut8",wrapper:"Note_wrapper__e2RXE",subTitle:"Note_subTitle__9jJa3",row:"Note_row__2VfX1"}}}]);
//# sourceMappingURL=165.77a9186c.chunk.js.map